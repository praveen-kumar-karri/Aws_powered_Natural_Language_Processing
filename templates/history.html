<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=width=1200px, initial-scale=1.0">
    <title>History Page</title>
    <link rel="icon" href="{{url_for('static',filename='logo.png')}}" type="image/jpg"> 
    <link rel="stylesheet" href="{{url_for('static',filename='history.css')}}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script>
        function redirectToSelectedDate() {
            var selectedDate = document.getElementById("selected_date").value;
            window.location.href = "/queries?selected_date=" + selectedDate;
        }
    </script>
</head>
<body>
    <ul class = "nav">
        <a href = "{{url_for('home')}}"><img src="{{url_for('static',filename='aws-nlp.png')}}" height="100px" width="375px" style="margin-top: -7px;"></a>
        <div class="navbar">
            <li class="navbar-item"><a href="{{url_for('home')}}" class="navRef"><b>Home</b></a></li>
            <li class="navbar-item"><a href="{{url_for('sentiment')}}" class="navRef"><b>Sentiment Analysis</b></a></li>
            <li class="navbar-item"><a href="{{url_for('textToSpeech')}}" class="navRef"><b>Text-to-Speech</b></a></li>
            <li class="navbar-item"><a href="{{url_for('speechToText')}}" class="navRef"><b>Speech-to-Text</b></a></li>
            <li class="navbar-item"><a href="{{url_for('imagetext')}}" class="navRef"><b>Image Text Extraction</b></a></li>
            <li class="navbar-item"><a href="{{url_for('chatbot')}}" class="navRef"><b>ChatBot</b></a></li>
            <li class="navbar-item"><a href="{{url_for('about')}}" class="navRef"><b>About Us</b></a></li>
            <li class="navbar-item"><a href="{{url_for('logout')}}" class="navRef"><b>Logout</b></a></li>
        </div>
    </ul>
    <center>
        <h1 style="font-weight: bolder;font-size: 50px; width: 800px; border-radius: 20px; padding: 5px;">History</h1>
    </center>
    <div class="mainBox">
    <form method="POST" action="/history">
        <label for="selected_date" style="margin: 20px; margin-left: 200px; font-size: 23px;">Select Date:</label>
        <input type="date" id="selected_date" name="selected_date" style="border-radius: 10px;font-size: 15px; border: 2px solid black; cursor: pointer;" default>
        <label for="query_type" style="margin: 20px; margin-left: 10px; font-size: 23px; margin-right: 0px;">Select Type:</label>
        <select name="query_type" style="font-size: 20px; border-radius: 10px; padding: 3px; border: 2px solid black; cursor: pointer;">
            <option value="sentiment">Sentiment Analysis</option>
            <option value="chatbot">Chatbot History</option>
        </select>
        <button type="submit" style="font-size: 20px; border-radius: 10px; padding: 3px; border: 2px solid black; margin-left: 50px; background-color: white;">Show Queries</button>
    </form>
        {% if data == [] %}
            <center><p>No Data Found</p></center>
        {% endif %}
        {% if query_type == 'sentiment' %}
            <table>
                {% for i in data %}
                <tr>
                    <th>Text:</th>
                    <td>{{ i[0] }}</td>
                </tr>
                <tr>
                    <th>Sentiment:</th>
                    <td id="chat">{{ i[1] }}</td>
                </tr>
                {% endfor %}
            </table>
        {% else %}
            <table>
                {% for i in data %}
                <tr>
                    <th>User:</th>
                    <td>{{ i[1] }}</td>
                </tr>
                <tr>
                    <th>ChatBot:</th>
                    <td id="chat">{{ i[2] }}</td>
                </tr>
                {% endfor %}
            </table>
        {% endif %}
    </div>
</body>
<footer>
    <section class="footerDiv">
        <div class="foot" style="width: 33.33%;">
           <b><p style="margin-left: 15%; margin-bottom: 0px; margin-top: 0px; font-size: larger;">Contact Us</p><br>
                <ul style="margin-left: 12%; margin-top: -12px; list-style-type: none;" >
                    <li><i class="fa fa-phone" style="font-size:15px"></i> Phone: <a href="tel:9876543210" style="text-decoration: none;">9876543210</a><br></li>
                    <li><i class="material-icons" style="font-size:15px; margin-top: 3px;">email</i> Email: <a href="mailto:awspowerednlp@gmail.com" style="text-decoration: none;">awspowerednlp@gmail.com</a></li>
                </ul>
            </b>
        </div>
        <div class="foot" style="width: 85%;">
            <b style="font-size: larger; margin-left: 200px;">AWS-NLP: Making sense of big data, one word at a time.</b>
            <p style="margin-top: 0px; font-size: large; padding: 10px; text-align: justify;">In every word, a world awaits; in every sentence, a journey unfolds. With AWS, we meticulously transform text into insights, weaving data into the fabric of tomorrow's narratives. Inspired by humanity, powered by innovation, we craft the future, one profound insight at a time.</p>
        </div>
    </section>
    <h3 style="text-align: center; padding: 0px; margin-bottom: -7px;"><b>&copy;2024 All Rights Reserved</b></h3><br>
</footer>
</html>